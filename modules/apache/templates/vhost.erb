<% if not @host_param.nil? and not @port_param.nil? -%>
<VirtualHost <%= @host_param %>:<%= @port_param %>>
<% elsif not @port_param.nil? -%>
<VirtualHost *:<%= @port_param %>>
<% else -%>
<VirtualHost <%= @host_param %>>
<% end -%>

<% unless @server_name.nil? -%>
    ServerName <%= @server_name %>
<% end -%>
<% unless @server_admin_param.nil? -%>
    ServerAdmin <%= @server_admin_param %>
<% end -%>

<% unless @document_root.nil? -%>
    DocumentRoot <%= @document_root %>
<% end -%>

<% unless @directory_index_param.nil? -%>
    DirectoryIndex <%= @directory_index_param.join(' ') %>
<% end -%>

<% @directory_param.each do |path,options| -%>
    <Directory <%= path %>>
<% unless options['require'].nil? -%>
        Require <%= options['require'] %>
<% end -%>
    </Directory>
<% end -%>
</VirtualHost>
